# -*- coding:utf-8 -*-
"""
美团 外卖红包
自行捉包把meituan.com里面的token(一般在请求头里)填到变量 meituanCookie 中,
多账号换行或&隔开
export meituanCookie="AgGZIgsYHyxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

cron: 2 0,6,10,16,20 * * *
const $ = new Env("美团辅助");
"""
import os
import requests
import json

print(os.getenv('meituanCookie').split("&"))

for mt in os.getenv('meituanCookie').split("&"):
    print(mt)
    cookie = f"token={mt};"
    headers ={"cookie":cookie,"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.36","content-type":"application/json;charset=UTF-8"}
    data = {"gundamId":20625,"instanceId":"16807827427780.5322617288978357","actualLongitude":108305990,"actualLatitude":22844501,"needTj":1,"couponConfigIdOrderCommaString":"3375507571337,3478674735753,3371014554249,3370503570057,3375301526153,3375301722761,3371138220681,3371014881929,3372360729225,620969479,2237835510400,2235023557248,511616988,626467836,621999795,626418652,624362708,1708877283968,1723741504128,511177309,511566737,3242152428169,3801984336521,622936736,603844019,345822793,516213972,3458690974345,622197908,622936732,622740453,622936733,613887410,617540192,588083964,572445327,621999591","couponAllConfigIdOrderString":"3375507571337,3478674735753,3371014554249,3370503570057,3375301526153,3375301722761,3371138220681,3371014881929,3372360729225,620969479,2237835510400,2235023557248,511616988,626467836,621999795,626418652,624362708,1708877283968,1723741504128,511177309,511566737,3242152428169,3801984336521,622936736,603844019,345822793,516213972,3458690974345,622197908,622936732,622740453,622936733,613887410,617540192,588083964,572445327,621999591","rubikCouponKey":"PrizePool-200043026","platform":13,"app":-1,"h5Fingerprint":"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"}
    b = requests.post('https://mediacps.meituan.com/gundam/gundamGrabV4',json=data,headers=headers)
    print(b.text);